<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>MindKeep</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app">
        <div class="app-header">
            <h1>MindKeep</h1>
            <div class="search-bar">
                <input type="text" id="searchInput" placeholder="Search notes..." class="search-input">
            </div>
            <button id="updateBtn" class="update-btn" onclick="window.mindKeep && window.mindKeep.checkForUpdates()">Check Updates</button>
        </div>
        
        <div class="app-body">
            <div class="sidebar">
                <div class="sidebar-header">
                    <select id="categorySelector" class="category-selector">
                        <option value="all">All Notes</option>
                    </select>
                    <div class="category-actions">
                        <button id="newCategoryBtn" class="category-btn" onclick="window.mindKeep && window.mindKeep.createNewCategory()">+ Category</button>
                        <button id="manageCategoriesBtn" class="category-btn" onclick="window.mindKeep && window.mindKeep.manageCategories()">Manage</button>
                    </div>
                    <button id="newNoteBtn" class="new-note-btn">+ New Note</button>
                </div>
                <div id="notesList" class="notes-list"></div>
            </div>
            
            <div class="main-content">
                <div id="welcomeScreen" class="welcome">
                    <h2>Welcome to MindKeep</h2>
                    <p>Your offline knowledge vault</p>
                    <button id="createFirstNote">Create Your First Note</button>
                </div>
                
                <div id="editor" class="editor" style="display: none;">
                    <div class="editor-header">
                        <input type="text" id="noteTitle" class="title-input" placeholder="Note title...">
                        <div class="editor-actions">
                            <button id="saveBtn" class="save-btn">Save</button>
                            <button id="cancelBtn" class="cancel-btn">Cancel</button>
                        </div>
                    </div>
                    <div class="editor-body">
                        <select id="noteCategory" class="tags-input">
                            <option value="">Select Category</option>
                        </select>
                        <input type="text" id="noteTags" class="tags-input" placeholder="Tags (comma separated)...">
                        <input type="text" id="noteDescription" class="tags-input" placeholder="Description...">
                        
                        <div class="toolbar">
                            <select id="fontSelector" class="font-selector" onchange="mindKeep.changeFont(this.value)">
                                <option value="">Font</option>
                                <option value="Arial">Arial</option>
                                <option value="Times New Roman">Times New Roman</option>
                                <option value="Courier New">Courier New</option>
                                <option value="Georgia">Georgia</option>
                                <option value="Verdana">Verdana</option>
                                <option value="Comic Sans MS">Comic Sans MS</option>
                            </select>
                            <button type="button" onclick="document.execCommand('bold')" class="toolbar-btn"><b>B</b></button>
                            <button type="button" onclick="document.execCommand('italic')" class="toolbar-btn"><i>I</i></button>
                            <button type="button" onclick="document.execCommand('underline')" class="toolbar-btn"><u>U</u></button>
                            <button type="button" onclick="document.execCommand('strikeThrough')" class="toolbar-btn"><s>S</s></button>
                            <button type="button" onclick="document.execCommand('insertUnorderedList')" class="toolbar-btn">‚Ä¢ List</button>
                            <button type="button" onclick="document.execCommand('insertOrderedList')" class="toolbar-btn">1. List</button>
                        </div>
                        
                        <div class="editor-container">
                            <div id="noteContent" class="content-editor" contenteditable="true" data-placeholder="Start writing your note..."></div>
                            <div id="imageContainer" class="image-container">
                                <div class="drop-zone-text">Drop images here or paste screenshots</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="viewer" class="viewer" style="display: none;">
                    <div class="viewer-header">
                        <h1 id="viewerTitle"></h1>
                        <button id="editBtn" class="edit-btn">Edit</button>
                    </div>
                    <div id="viewerMeta" class="viewer-meta"></div>
                    <div id="viewerTags" class="viewer-tags"></div>
                    <div id="viewerContent" class="viewer-content"></div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Category Modal -->
    <div id="categoryModal" class="modal" style="display: none;">
        <div class="modal-content">
            <h3>Create New Category</h3>
            <input type="text" id="categoryNameInput" placeholder="Category name" class="modal-input">
            <input type="color" id="categoryColorInput" value="#4a9eff" class="modal-input">
            <div class="modal-buttons">
                <button onclick="window.mindKeep.saveCategoryModal()" class="modal-btn save">Create</button>
                <button onclick="window.mindKeep.closeCategoryModal()" class="modal-btn cancel">Cancel</button>
            </div>
        </div>
    </div>
    
    <!-- Manage Categories Modal -->
    <div id="manageCategoriesModal" class="modal" style="display: none;">
        <div class="modal-content">
            <h3>Manage Categories</h3>
            <div id="categoriesList" class="categories-list"></div>
            <div class="modal-buttons">
                <button onclick="window.mindKeep.closeManageCategoriesModal()" class="modal-btn cancel">Close</button>
            </div>
        </div>
    </div>
    
    <!-- Update Available Modal -->
    <div id="updateAvailableModal" class="modal" style="display: none;">
        <div class="modal-content">
            <h3>üéâ Update Available!</h3>
            <p id="updateMessage"></p>
            <div class="modal-buttons">
                <button onclick="window.mindKeep.downloadUpdate()" class="modal-btn save">Download</button>
                <button onclick="window.mindKeep.closeUpdateModal()" class="modal-btn cancel">Later</button>
            </div>
        </div>
    </div>
    
    <!-- No Update Modal -->
    <div id="noUpdateModal" class="modal" style="display: none;">
        <div class="modal-content">
            <h3>‚úÖ You're Up to Date!</h3>
            <p>You have the latest version of MindKeep.</p>
            <div class="modal-buttons">
                <button onclick="window.mindKeep.closeNoUpdateModal()" class="modal-btn save">OK</button>
            </div>
        </div>
    </div>
    
    <!-- Update Error Modal -->
    <div id="updateErrorModal" class="modal" style="display: none;">
        <div class="modal-content">
            <h3>‚ùå Update Check Failed</h3>
            <p>Could not check for updates. Please check your internet connection and try again.</p>
            <div class="modal-buttons">
                <button onclick="window.mindKeep.closeUpdateErrorModal()" class="modal-btn cancel">OK</button>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="app.js"></script>
</body>
</html>